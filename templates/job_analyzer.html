{% extends "layout.html" %}
{% block content %}
<h1>Job Analyzer</h1>
<div class="job-analyzer-container">
  <form method="POST" enctype="multipart/form-data" style="max-width: 500px; width: 100%;">
    <label>Upload Resume:</label><br>
    <input type="file" name="resume" accept=".pdf,.docx" required><br>
    <label>Job Description:</label><br>
    <textarea name="job_description" rows="5" placeholder="Paste your job description here..." required></textarea><br>
    <button type="submit">Analyze</button>
  </form>

  {% if analysis %}
  <div class="analysis-section">
    <h3>Resume Analysis</h3>
    <table border="1">
      <thead>
        <tr>
          <th></th>
          <th>Skills</th>
          <th>Other Keywords</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Present in Resume</strong></td>
          <td><pre style="white-space: pre-wrap;">{{ analysis.present_skills }}</pre></td>
          <td><pre style="white-space: pre-wrap;">{{ analysis.present_keywords }}</pre></td>
        </tr>
        <tr>
          <td><strong>Missing from Job Description</strong></td>
          <td><pre style="white-space: pre-wrap;">{{ analysis.missing_skills }}</pre></td>
          <td><pre style="white-space: pre-wrap;">{{ analysis.missing_keywords }}</pre></td>
        </tr>
      </tbody>
    </table>

    <p><strong>Improvement Suggestions:</strong><br>
    <pre style="white-space: pre-wrap;">{{ analysis.suggestions }}</pre>
    </p>
  </div>
  {% endif %}
</div>
{% endblock %}
